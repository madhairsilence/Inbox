/*! inbox - v1.0 - 2017-02-27
* Copyright (c) 2017 Harish Kumar; Licensed MIT */
!function(a){var b={folders:["Inbox","Sent","Draft","Trash"],labels:["UnRead","Important","Promotions","Social"],data:[],punctuation:".",onInit:function(){},onMailSelect:function(a){return a},onFolderSelect:function(a){return a},onLabelSelect:function(a){return a},unreadCount:0},c={init:function(d){return this.settings=a.extend(b,d),c.buildLayout.apply(this,[]),this},buildLayout:function(){this.addClass("inbox-container").append(c.addFolder.apply(this,[])).append(c.addMainSection.apply(this,[])),c.bindEvents.apply(this,[])},addMainSection:function(){var b=a('<div class="main-section"></div>');return b.append(c.addHeader.apply(this,[])).append(c.addLabels.apply(this,[])).append(c.addMailList.apply(this,[])).append(c.addMailBody.apply(this,[])),b},addHeader:function(){var b=a('<div class="header-section"> </div>');return b.append("<h3> Mail </h3>"),b.append("<div> You have "+this.settings.unreadCount+" unread Mails  </>"),b},addFolder:function(){var b=a('<div class="folders"></div>'),c=a("<ul></ul>");return a.each(this.settings.folders,function(a,b){c.append("<li>"+b+"</li>")}),b.append(c),b},addLabels:function(){var b=a('<div class="labels"></div>'),c=a("<ul></ul>");return a.each(this.settings.labels,function(a,b){c.append("<li>"+b+"</li>")}),b.append(c),b},addMailList:function(){var b=a('<div class="mails"></div>');return c.addMails.apply(this,b),b},addMails:function(b){var c=a("<ul></ul>");a.each(this.settings.data,function(a,b){c.append('<li data-id="'+a+'"> <div class="subject">'+b.subject+'</div><div class="sender">'+b.sender+"</div></li>")}),a(b).html("").append(c)},addMailBody:function(){var b=a('<div class="mailBody"></div>'),c=a("<div></div>");return c.append('<h3 class="subject"></h3><div class="dateTime"></div><div class="body"></div>'),b.append(c),b},bindEvents:function(){c.onInit.apply(this,[]),c.onMailSelect.apply(this,[]),c.onFolderSelect.apply(this,[]),c.onLabelSelect.apply(this,[])},onInit:function(){this.settings.onInit()},onMailSelect:function(){var b=this;a(this).find(".mails ul li").on("click",function(){var c=a(this).data("id"),d=b.settings.data[c].subject,e=b.settings.data[c].body;b.settings.data[c].read=!0,a(this).parents().find(".mailBody").find(".subject").html(d),a(this).parents().find(".mailBody").find(".body").html(e),b.settings.onMailSelect(c)})},onFolderSelect:function(){var b=this;a(this).find(".folders ul li").on("click",function(){b.settings.onFolderSelect(a(this).html())})},onLabelSelect:function(){var b=this;a(this).find(".labels ul li").on("click",function(){b.settings.onLabelSelect(a(this).html())})},setData:function(b,d){this.settings.data=b,c.addMails.apply(this,a(this).find("div.mails")),c.onMailSelect.apply(this),d&&d()}};a.fn.Inbox=function(d){return this.settings=a.extend({},b,d),c[d]?c[d].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof d&&d?void a.error("Method "+d+" does not exist on jQuery.tooltip"):c.init.apply(this,arguments)}}(jQuery);